<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get data from a form — nettskjema_get_data • nettskjemar</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Get data from a form — nettskjema_get_data" />
<meta property="og:description" content="This function connects to a specific form and fetches all answers.
The responses are placed in a data.frame for easy use.
For large data sets, toggle the incremental option,
which while slow, will be better able to retrieve all responses.
For retrieving responses only from a specific date on, or all responses
after a certain submission, use the from_date and from_submission arguments.
Forms that are anonymous and do not collect personal information do not record date,
and as such the from_date will not work on those and an error will be thrown." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nettskjemar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4.008</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/nettskjemar.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/auth_setup.html">Setting up Nettskjema API authentication</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/LCBC-UiO/nettskjemar/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get data from a form</h1>
    <small class="dont-index">Source: <a href='https://github.com/LCBC-UiO/nettskjemar/blob/master/R/nettskjema_get_form.R'><code>R/nettskjema_get_form.R</code></a></small>
    <div class="hidden name"><code>nettskjema_get_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function connects to a specific form and fetches all answers.
The responses are placed in a data.frame for easy use.
For large data sets, toggle the <code>incremental</code> option,
which while slow, will be better able to retrieve all responses.
For retrieving responses only from a specific date on, or all responses
after a certain submission, use the <code>from_date</code> and <code>from_submission</code> arguments.
Forms that are anonymous and do not collect personal information do not record date,
and as such the <code>from_date</code> will not work on those and an error will be thrown.</p>
    </div>

    <pre class="usage"><span class='fu'>nettskjema_get_data</span><span class='op'>(</span>
  <span class='va'>form_id</span>,
  information <span class='op'>=</span> <span class='cn'>NULL</span>,
  token_name <span class='op'>=</span> <span class='st'>"NETTSKJEMA_API_TOKEN"</span>,
  use_codebook <span class='op'>=</span> <span class='fu'><a href='has_codebook.html'>has_codebook</a></span><span class='op'>(</span><span class='va'>form_id</span>, <span class='va'>token_name</span><span class='op'>)</span>,
  checkbox_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"string"</span>, <span class='st'>"list"</span>, <span class='st'>"columns"</span><span class='op'>)</span>,
  checkbox_delim <span class='op'>=</span> <span class='st'>";"</span>,
  as_is <span class='op'>=</span> <span class='cn'>FALSE</span>,
  from_date <span class='op'>=</span> <span class='st'>""</span>,
  from_submission <span class='op'>=</span> <span class='st'>""</span>,
  incremental <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>form_id</th>
      <td><p>integer. Number of the form to retrieve</p></td>
    </tr>
    <tr>
      <th>information</th>
      <td><p>character or list vector of additional answer information
to add (One or more of "order", "option", "correct" "preselected"). If the list
is named, the additional information suffixes will be changed to the list names. If NULL (default) nothing is added.
Currently not possible to combine with <code>use_codebook = TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>token_name</th>
      <td><p>character. Name to give the token, defaults to 'NETTSKJEMA_API_TOKEN'</p></td>
    </tr>
    <tr>
      <th>use_codebook</th>
      <td><p>logical. Use codebook for retrieving answers (default TRUE). If you have not
set up the codebook in nettskjema, then turning this off will return the data as is.</p></td>
    </tr>
    <tr>
      <th>checkbox_type</th>
      <td><p>string of either "string" (default), "list" or "columns" for how to handle checkbox answers</p></td>
    </tr>
    <tr>
      <th>checkbox_delim</th>
      <td><p>delimiter string if <code>checkbox:type</code> is "string". Ignored else.</p></td>
    </tr>
    <tr>
      <th>as_is</th>
      <td><p>logical. Whether to return the raw content from nettskjema. Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>from_date</th>
      <td><p>date. From which date on should data be fetched for</p></td>
    </tr>
    <tr>
      <th>from_submission</th>
      <td><p>integer. From which SubmissionId should data be collected from.</p></td>
    </tr>
    <tr>
      <th>incremental</th>
      <td><p>logical. False fetches all at once, TRUE fetches each submission individually. Slower but more stable for larger datasets.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed to <code><a href='https://httr.r-lib.org/reference/GET.html'>GET</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>tibble data.frame</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Checkbox types</p><ul>
<li><p>"string" - returns a delimited character value per submission, where <code>checkbox_delim</code>
 denotes the options that the respondent has chosen</p></li>
<li><p>"list" - returns a list column, where each submission has a character vector with all the
 chosen options as separate elements in the list</p></li>
<li><p>"columns" - returns checkbox answers as separate binarized columns (column names are appended with
 response names), where 1 means the option was selected and 0 it was not.</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='co'># Retrieve all data</span>
<span class='va'>data_110000</span> <span class='op'>&lt;-</span> <span class='fu'>nettskjema_get_data</span><span class='op'>(</span><span class='fl'>110000</span><span class='op'>)</span>
<span class='co'># Retrieve all data, and add answer order and option text</span>
<span class='va'>data_110000</span> <span class='op'>&lt;-</span> <span class='fu'>nettskjema_get_data</span><span class='op'>(</span><span class='fl'>110000</span>, information <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>dummy <span class='op'>=</span> <span class='st'>"order"</span>, text <span class='op'>=</span> <span class='st'>"option"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Retrieve all data after a certain date</span>
<span class='va'>data_110000</span> <span class='op'>&lt;-</span> <span class='fu'>nettskjema_get_data</span><span class='op'>(</span><span class='fl'>110000</span>, from_date <span class='op'>=</span> <span class='st'>"2019-01-01"</span><span class='op'>)</span>

<span class='co'># Retrieve all submissions after a specific submission id</span>
<span class='va'>data_110000</span> <span class='op'>&lt;-</span> <span class='fu'>nettskjema_get_data</span><span class='op'>(</span><span class='fl'>110000</span>, from_submission <span class='op'>=</span> <span class='st'>"12000000"</span><span class='op'>)</span>

<span class='co'># For large data</span>
<span class='va'>data_110000</span> <span class='op'>&lt;-</span> <span class='fu'>nettskjema_get_data</span><span class='op'>(</span><span class='fl'>110000</span>, incremental <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Athanasia Mo Mowinckel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


